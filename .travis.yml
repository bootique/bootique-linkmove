# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jobs:
  include:
    - stage: build
      if: branch != master OR type IN (pull_request)
      jdk: oraclejdk9
      script:
        - mvn clean verify
    - stage: build
      if: branch != master OR type IN (pull_request)
      jdk: oraclejdk8
      script:
        - mvn clean verify
    - stage: build
      if: branch = master AND type IN (push)
      jdk: oraclejdk9
      script:
        - mvn clean verify
    - stage: build
      if: branch = master AND type IN (push) AND repo = bootique/bootique-linkmove
      jdk: oraclejdk8
      script:
        - mvn clean source:jar javadoc:javadoc deploy --settings travis_settings.xml
    - stage: build
      if: branch = master AND type IN (push) AND repo != bootique/bootique-linkmove
      jdk: oraclejdk8
      script:
        - mvn clean verify

# travis encrypt -r bootique/bootique-linkmove "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-linkmove "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "Mr+KBKk9sSBlRxknQ6kReNuZPuJ7ghqnWvZwttOaiBrF/9Trq/+FRhI2b/11JM9NZIbo5vhwvXE5OOHS6iH+sSue1FxEQ3AkcHTn472pR0nKi8Tb0fb2Af9jszgBWwa/4Npn09/mjeQMqlJQ/WZ+q0fZSavlrr22Pt387HnapHMc74RirpWDzf90Szqd3wjnOkqYcPBJyCEEeO8bnRuKNGm9qFokL4FR+CEClqblwk3V5HjwOJDcDLvC7O4OuodOU4C30LW5mTervwjBzgPiRT/tdBQERXrrdIUoelXpKjMrhvCykkfSMEVyL7uFczAqPwfTk1ye4tUvUWj+zH36FgR4+Igq5AcBm6n7ZlUp4gpqdR+NOIhwmKilGfFttvzMqin8RsbRpYsG/bsv1MaqR5EQSKdY+OHm/KuVgzff331PRT0D26gchwMF+JhgOJqG2ayCkhWlGQnLog0zkAuxgDUfnyJuhrujk2VkvjmuqPPceQ4cEwDj1sk2vjd7jBApWxUU+YWsmRMG8iS4POWWSK9o8dCNv56fBYnPqONxbYjpVIezbece2w3UAY+Rm0Vtn9otSUMBUreFJDgeoteTVXgMLZIsLv3mCcPGsuT7zHYf0oRj7JtcNmdJuNjOOWHGRRn/0SKVfA/KmfUfkkNTSM+4HI3CPoEWMXx9NFNnGaI="
    - secure: "IBfxGtAHDGs2pEstRj9eef//oNVLpHRvTexE1dMMjEOf5gKqQ8PFn0FlvaZYwlIbgZdFmO8HPOZ3rJViqA+OnSLRX0Js4LTP0wtxZua5Sr0FgbiJrJWRvuLPXoiwrcUL66pUIiEM8PEbb/Ra84789kqiVmnS1rcTkeS5JCIg7LUjKXhq5HtEuXT0s2TkKjm41OAmr1+YrsKtqsmdOKDtG2Q1BQn1ZIq+ovoURwcfMi67MLCkIhpUU/jIJXUsjugqyI+L/jEL2Dg473IxbRL8H6NM6yUIh4SclwL7lrJM9Ko8r0++jr53Mx2d2Bfa0IjJzFqEGVIhkiPS+DLoiEnCwmzbmsGlhw+OS44S3frIiT9IWDvnnxv3JlNqf2aWafecMf0Fh299zkclpKhB6jVEWVHUTsncv2WwQxTdXwHYQudLXDdj22QWQALp39T8sU6q9yy7id+solw9MLtnsjXWeOTf1Oxeqnu7mSuSxAvfDe4VhOxZQv0SA8gHnAv7KD58jQbLgpG0K1vtckkxL9RXEHRJI/81LsvUPgwRzMQxelUVhCVhIRrTsEJFb/qS/qZclA6iMouEA61eUhvZTMpswSocAZm6db2xNHUPGlXFUoLCM5GM0NZEGoo8oQ/FkJ6uBH7FKpxU0ZfWn33PLqJ5NeEBpZTpei5RYLUif56rlIM="
